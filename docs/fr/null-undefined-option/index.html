<!DOCTYPE html><html lang="fr"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Null, Undefined &amp; Option · Reason</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;Reason n&#x27;a pas de notion de valeurs &lt;code&gt;null&lt;/code&gt; ou &lt;code&gt;undefined&lt;/code&gt;. C&#x27;est une &lt;em&gt;bonne&lt;/em&gt; chose, puisque cela permet d&#x27;éviter toute une catégorie de bugs. Terminé les &lt;code&gt;undefined is not a function&lt;/code&gt; et les &lt;code&gt;cannot access foo of undefined&lt;/code&gt; !&lt;/p&gt;
"/><meta name="docsearch:language" content="fr"/><meta property="og:title" content="Null, Undefined &amp; Option · Reason"/><meta property="og:type" content="website"/><meta property="og:url" content="https://reasonml.github.io/"/><meta property="og:description" content="&lt;p&gt;Reason n&#x27;a pas de notion de valeurs &lt;code&gt;null&lt;/code&gt; ou &lt;code&gt;undefined&lt;/code&gt;. C&#x27;est une &lt;em&gt;bonne&lt;/em&gt; chose, puisque cela permet d&#x27;éviter toute une catégorie de bugs. Terminé les &lt;code&gt;undefined is not a function&lt;/code&gt; et les &lt;code&gt;cannot access foo of undefined&lt;/code&gt; !&lt;/p&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/icon_50.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"/><link rel="alternate" type="application/atom+xml" href="https://reasonml.github.io/blog/atom.xml" title="Reason Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://reasonml.github.io/blog/feed.xml" title="Reason Blog RSS Feed"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/fr"><img class="logo" src="/img/dummy.svg" alt="Reason"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/fr/what-and-why" target="_self">Documentation</a></li><li class=""><a href="/fr/try" target="_self">Essayer</a></li><li class=""><a href="/api/index" target="_self">API</a></li><li class=""><a href="/docs/fr/community" target="_self">Communauté</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>Français</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/ja/null-undefined-option">日本語</a></li><li><a href="/docs/en/null-undefined-option">English</a></li><li><a href="/docs/de/null-undefined-option">Deutsch</a></li><li><a href="/docs/es-ES/null-undefined-option">Español</a></li><li><a href="/docs/ko/null-undefined-option">한국어</a></li><li><a href="/docs/pt-BR/null-undefined-option">Português (Brasil)</a></li><li><a href="/docs/ru/null-undefined-option">Русский</a></li><li><a href="/docs/uk/null-undefined-option">Українська</a></li><li><a href="/docs/zh-CN/null-undefined-option">中文</a></li><li><a href="/docs/zh-TW/null-undefined-option">繁體中文</a></li><li><a href="https://crowdin.com/project/reason" target="_blank" rel="noreferrer noopener">Aider à la traduction</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/facebook/reason" target="_self">Github</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Principes de base du langage</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Intro</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/what-and-why">Quoi &amp; Pourquoi</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Installation</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/installation">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/editor-plugins">Plugins éditeurs</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/extra-goodies">Goodies supplémentaires</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Principes de base du langage</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/overview">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/let-binding">Let binding</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/type">Type !</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/string-and-char">String &amp; Char</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/boolean">Booléen</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/integer-and-float">Entier &amp; Flottant</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/tuple">Tuple</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/record">Record</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/variant">Variant!</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/fr/null-undefined-option">Null, Undefined &amp; Option</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/list-and-array">Listes &amp; Tableaux</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/function">Fonction</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/if-else">If-Else</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/pipe-first">Pipe First</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/more-on-type">Plus sur les types</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/destructuring">Destructuring</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/pattern-matching">Pattern Matching!</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/mutation">Mutation</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/imperative-loops">Boucles impératives</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/jsx">JSX</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/external">External</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/exception">Exception</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/object">Objet</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/module">Module</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/promise">Promesse</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">JavaScript</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/interop">Interopérabilité</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/syntax-cheatsheet">Cheatsheet de la syntaxe</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/libraries">Bibliothèques</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/converting-from-js">Convertir depuis JavaScript</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Natif</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/native">Natif</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/quickstart-ocaml">Démarrage rapide en natif</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/convert-from-ocaml">Convertir depuis OCaml</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Extra</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/faq">Foire aux Questions</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/comparison-to-ocaml">Comparaison avec OCaml</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/newcomer-examples">Exemple pour Débutants</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/project-structure">Structure de projet</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/reason/fr" target="_blank" rel="noreferrer noopener">Translate</a><h1 class="postHeaderTitle">Null, Undefined &amp; Option</h1></header><article><div><span><p>Reason n'a pas de notion de valeurs <code>null</code> ou <code>undefined</code>. C'est une <em>bonne</em> chose, puisque cela permet d'éviter toute une catégorie de bugs. Terminé les <code>undefined is not a function</code> et les <code>cannot access foo of undefined</code> !</p>
<p>Cependant, le <strong>concept</strong> d'une potentielle valeur inexistante est toujours utile, et par conséquent existe de façon sécurisée dans notre langage.</p>
<p>Nous représentons l'existence ou l'inexistence d'une valeur en l'entourant avec le type <code>option</code>. Voici la définition de la bibliothèque standard :</p>
<pre><code class="hljs css language-reason"><span class="hljs-keyword">type</span> option('a) = <span class="hljs-constructor">None</span> | <span class="hljs-constructor">Some</span>('a)
</code></pre>
<p>Cela se traduit par &quot;une valeur de type option peut-être None (rien) ou la valeur actuelle présente dans un Some&quot;. Vous vous demander sans doute pourquoi n'enlevons-nous pas le <code>Some</code> du code et nous n'écrivons pas simplement :</p>
<pre><code class="hljs css language-reason"><span class="hljs-keyword">type</span> option('a) = <span class="hljs-constructor">None</span> | 'a
</code></pre>
<p>Auquel cas la value peut être ou <code>None</code> ou <code>valeurActuelle</code>. Bien que pratique, il y a plusieurs de raisons pour lesquelles cette syntaxe est indésirable, mais nous n'entrerons pas dans le détail pour le moment.</p>
<h2><a class="anchor" aria-hidden="true" id="exemple"></a><a href="#exemple" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemple</h2>
<p>Voici une valeur :</p>
<pre><code class="hljs css language-reason"><span class="hljs-keyword">let</span> licenseNumber = <span class="hljs-number">5</span>
</code></pre>
<p>Pour représenter le concept de « peut-être null », vous allez transformer cela en un type <code>option</code> en &quot;l'encapsulant&quot;. Dans un souci d’exemple plus illustratif, nous allons mettre une condition autour :</p>
<pre><code class="hljs css language-reason"><span class="hljs-keyword">let</span> licenseNumber =
  <span class="hljs-keyword">if</span> (personHasACar) {
    <span class="hljs-constructor">Some</span>(<span class="hljs-number">5</span>);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-constructor">None</span>;
  };
</code></pre>
<p>Plus tard lorsqu’un autre morceau de code recevra une telle valeur, il sera obligé de gérer les deux cas :</p>
<pre><code class="hljs css language-reason"><span class="hljs-keyword">switch</span> (licenseNumber) {
| <span class="hljs-constructor">None</span> =&gt; print_endline(<span class="hljs-string">"The person doesn't have a car"</span>)
| <span class="hljs-constructor">Some</span>(number) =&gt;
  print_endline(<span class="hljs-string">"The person's license number is "</span> <span class="hljs-operator">++</span> string_of_int(number))
};
</code></pre>
<p>En transformant votre nombre en un type <code>option</code> et en vous forçant à gérer les cas <code>None</code>, le langage va effectivement supprimer la possibilité pour vous d’altérer, ou que vous oubliiez de gérer une valeur <code>null</code> conceptuelle !</p>
<h2><a class="anchor" aria-hidden="true" id="utilisation"></a><a href="#utilisation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Utilisation</h2>
<p>**Le module helper <code>Option</code> ** est <a href="https://bucklescript.github.io/bucklescript/api/Belt.Option.html">ici</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="interagir-avec-undefined-null-javascript"></a><a href="#interagir-avec-undefined-null-javascript" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Intéragir avec <code>undefined</code> &amp; <code>null</code> JavaScript</h2>
<p>Le type <code>option</code> est assez commun pour que nous ayons créé un cas spécial lors de sa compilation vers JavaScript :</p>
<pre><code class="hljs css language-reason"><span class="hljs-constructor">Some</span>(<span class="hljs-number">5</span>)
</code></pre>
<p>compile tout simplement vers <code>5</code>, et</p>
<pre><code class="hljs css language-reason"><span class="hljs-constructor">None</span>
</code></pre>
<p>compile vers <code>undefined</code> ! Si vous avez par exemple une chaîne des caractères en JavaScript que vous savez pouvoir être <code>undefined</code>, typée-la en <code>option(string)</code> et le tour est joué ! De la même façon, vous pouvez envoyer un <code>Some(5)</code> ou <code>None</code> au côté JavaScript et vous attendre à ce qu'ils soient interprétés correctement =)</p>
<h3><a class="anchor" aria-hidden="true" id="mises-en-garde-1"></a><a href="#mises-en-garde-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mises en garde 1</h3>
<p>La traduction option-vers-undefined n’est pas parfaite, parce que de notre côté, les valeurs d'<code>option</code> peuvent être composées :</p>
<pre><code class="hljs css language-reason"><span class="hljs-constructor">Some</span>(some(some(<span class="hljs-number">5</span>)))
</code></pre>
<p>Ceci compile toujours vers <code>5</code>, mais cela devient gênant :</p>
<pre><code class="hljs css language-reason"><span class="hljs-constructor">Some</span>(<span class="hljs-constructor">None</span>)
</code></pre>
<p>Qui compile en JavaScript :</p>
<pre><code class="hljs css language-js">Js_primitive.some(<span class="hljs-literal">undefined</span>);
</code></pre>
<p>Quel est ce <code>Js_primitive</code> ? Pourquoi ceci ne peut-il pas compiler vers <code>undefined</code> ? Pour faire simple, lorsqu’il s’agit du type polymorphe <code>option</code> (alias <code>option('a)</code>, pour tout <code>'a</code>), de nombreuses opérations deviennent délicates si vous ne marquez pas la valeur avec une annotation spéciale. Si tout ceci n'a pas de sens, ne vous inquiétez pas. Rappelez-vous simplement la règle suivante :</p>
<ul>
<li><strong>Ne jamais, JAMAIS, transmettre une valeur <code>option</code> (ie : <code>Some(Some(Some(5)))</code>) imbriquée au côté JavaScript.</strong></li>
<li><strong>Ne jamais, JAMAIS, annoter une valeur venant du côté JavaScript comme étant <code>option('a)</code>. Toujours donner le type concret, non polymorphe.</strong></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="mises-en-garde-2"></a><a href="#mises-en-garde-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mises en garde 2</h3>
<p>Malheureusement, de très nombreuses fois, votre valeur JavaScript peut être <em>à la fois</em> <code>null</code> ou <code>undefined</code>. Dans ce cas là, vous ne pouvez malheureusement pas typer une telle valeur comme étant par exemple <code>option(int)</code>, étant donné que notre type <code>option</code> ne fait sa vérification que pour <code>undefined</code> et non pas pour <code>null</code> lorsqu'il a affaire à un <code>None</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="solution-interoperabilite-plus-sophistiquee-de-undefined-null"></a><a href="#solution-interoperabilite-plus-sophistiquee-de-undefined-null" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Solution : interopérabilité plus sophistiquée de <code>undefined</code> &amp; <code>null</code></h4>
<p>Pour régler ce problème, nous donnons accès à des helpers plus élaborés de <code>null</code> et <code>undefined</code> via le module <a href="https://bucklescript.github.io/bucklescript/api/Js.Nullable.html"><code>Js.Nullable</code></a>. Il fonctionne un peu comme un type <code>option</code>, mais en diffère.</p>
<h4><a class="anchor" aria-hidden="true" id="exemples"></a><a href="#exemples" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemples</h4>
<p>Pour créer un <code>null</code> JavaScript, utilisez la valeur <code>Js.Nullable.null</code>. Pour créer un <code>undefined</code> JavaScript, utilisez <code>Js.Nullable.undefined</code> (naturellement vous pouvez aussi utiliser <code>None</code>, mais ce n'est pas le sujet ici: les helpers <code>Js.Nullable.*</code> ne marcheraient pas avec).</p>
<p>Si vous recevez , par exemple, une chaine de caractères JavaScript qui peut être <code>null</code> et <code>undefined</code>, typez la de la sorte :</p>
<pre><code class="hljs css language-reason"><span class="hljs-attribute">[@bs.module "MyConstant"]</span> <span class="hljs-keyword">external</span> myId: <span class="hljs-module-identifier">Js</span>.<span class="hljs-module-identifier">Nullable</span>.t(string) = <span class="hljs-string">"myId"</span>
</code></pre>
<p>Pour créer une telle chaîne nullable de notre côté (probablement pour la passer du côté JavaScript, à des fins d'interopérabilité), faites :</p>
<pre><code class="hljs css language-reason"><span class="hljs-attribute">[@bs.module "MyIdValidator"]</span> <span class="hljs-keyword">external</span> validate: <span class="hljs-module-identifier">Js</span>.<span class="hljs-module-identifier">Nullable</span>.t(string) =&gt; bool = <span class="hljs-string">"validate"</span>;
<span class="hljs-keyword">let</span> personId: <span class="hljs-module-identifier">Js</span>.<span class="hljs-module-identifier">Nullable</span>.t(string) = <span class="hljs-module-identifier">Js</span>.<span class="hljs-module-identifier">Nullable</span>.return(<span class="hljs-string">"abc123"</span>);

<span class="hljs-keyword">let</span> result = validate(personId);
</code></pre>
<p>La partie <code>return</code> &quot;encapsule&quot; une chaîne de caractères en une chaîne de caractères nullable, pour que le système de type le comprenne et tienne compte du fait que, lorsque vous transmettez cette valeur, il ne s'agit pas simplement d'une chaîne de caractères, mais d'une chaîne pouvant être <code>null</code> ou <code>undefined</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="convertir-vers-depuis-option"></a><a href="#convertir-vers-depuis-option" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Convertir vers/depuis <code>option</code></h4>
<p><code>Js.Nullable.fromOption</code> converti depuis un <code>option</code> vers un <code>Js.Nullable.t</code>. <code>Js.Nullable.toOption</code> fait l'opposé.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/fr/variant"><span class="arrow-prev">← </span><span>Variant!</span></a><a class="docs-next button" href="/docs/fr/list-and-array"><span>Listes &amp; Tableaux</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#exemple">Exemple</a></li><li><a href="#utilisation">Utilisation</a></li><li><a href="#interagir-avec-undefined-null-javascript">Intéragir avec <code>undefined</code> &amp; <code>null</code> JavaScript</a><ul class="toc-headings"><li><a href="#mises-en-garde-1">Mises en garde 1</a></li><li><a href="#mises-en-garde-2">Mises en garde 2</a></li></ul></li></ul></nav></div><span><script src="/js/redirectBlog.js"></script><script src="/js/pjax-api.min.js"></script><script>window.foo = new Pjax({
          areas: [
            // try to use the first query.
            '.mainContainer, .docsNavContainer .toc .navWrapper, .onPageNav',
            // fallback
            'body'
          ],
          link: '.docsNavContainer:not(.docsSliderActive) a',
          update: {
            script: false,
          }
        });
        var languagesMenuItemCopy = document.getElementById("languages-menu");
        languagesMenuItemCopy.addEventListener("click", function(e){
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
        });</script></span></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '966d1e412f67114a07dc0afe44b19b53',
                indexName: 'reason',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["lang:fr"]}
              });
            </script></body></html>